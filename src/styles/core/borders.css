/**
 * Border Alignment System
 *
 * Defines consistent borders, backgrounds, and padding for all element types.
 * Color-coded borders help identify element types at a glance.
 *
 * Border Alignment Rule: All element borders must align exactly with grid lines.
 */

/* ===== Base Element Styles ===== */
.reveal .slides section > * {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  overflow: hidden;
}

/* ===== Text Elements (No default borders - show only with 'B' toggle) ===== */
.body-text,
.main-text-content,
.explanation-text,
.supporting-text,
.text-content,
.key-points,
.item-1-content,
.item-2-content {
  border: none;
  border-radius: 6px;
  background: #ffffff;
  padding: 12px 16px;
  color: #1a1a1a;
  font-size: 18px;
  line-height: 1.5;
  text-align: left;
}

/* Bullet points and numbered items (require larger line-height per metadata) */
/* No default borders - show only with 'B' toggle */
.bullet-points,
.numbered-items,
.column-content {
  border: none;
  border-radius: 6px;
  background: #ffffff;
  padding: 12px 16px;
  color: #1a1a1a;
  font-size: 18px;
  line-height: 1.6;
  text-align: left;
}

/* ===== Title Elements (Medium Gray Border) ===== */
/* Note: .slide-title and .subtitle borders removed - only show when 'B' toggle active */
.main-title,
.section-title,
.column-header,
.quadrant-header,
.item-1-header,
.item-2-header,
.chart-title,
.diagram-title {
  border: 1px solid #d1d5db;
  border-radius: 6px;
  background: #ffffff;
  padding: 8px 12px;
  color: #1a1a1a;
  font-weight: 600;
}

/* Slide title and subtitle - no default borders (show only with 'B' toggle) */
.slide-title,
.subtitle {
  border: none;
  background: transparent;
  color: #1a1a1a;
  /* font-weight controlled by template-registry.js inline styles */
}

/* Rich content area - no default border (show only with 'B' toggle) */
.rich-content-area {
  border: none;
}

/* Footer sections - no default borders (never show borders, even with 'B' toggle) */
.footer-container,
.footer-presentation-name,
.footer-company-logo {
  border: none;
  background: transparent;
}

/* Main title (larger) */
.main-title {
  border-width: 2px;
  padding: 16px 24px;
  font-size: 48px;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
  justify-content: center;
  align-items: center;
  text-align: center;
}

/* Section title */
.section-title {
  border-width: 2px;
  padding: 16px 24px;
  font-size: 40px;
  font-weight: 600;
  line-height: 1.2;
  justify-content: center;
  align-items: center;
  text-align: center;
}

/* Slide title */
.slide-title {
  font-size: 32px;
  line-height: 1.3;
}

/* Subtitle */
.subtitle {
  font-size: 20px;
  font-weight: 400;
  line-height: 1.4;
  padding: 6px 12px;
}

/* Column/Quadrant/Item headers */
.column-header,
.quadrant-header,
.item-1-header,
.item-2-header {
  font-size: 20px;
  line-height: 1.3;
}

/* ===== Placeholder Elements (Color-Coded Borders) ===== */

/* Diagram Placeholder (Gray) */
.diagram-placeholder {
  border: 2px solid #6b7280;
  border-radius: 8px;
  background: #f9fafb;
  padding: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #6b7280;
  font-size: 16px;
  font-weight: 500;
  text-align: center;
}

.diagram-placeholder::before {
  content: 'ðŸ“Š Diagram';
  font-size: 14px;
  color: #9ca3af;
}

/* Chart Placeholder (Blue) */
.chart-placeholder {
  border: 2px solid #3b82f6;
  border-radius: 8px;
  background: #eff6ff;
  padding: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #3b82f6;
  font-size: 16px;
  font-weight: 500;
  text-align: center;
}

.chart-placeholder::before {
  content: 'ðŸ“ˆ Chart';
  font-size: 14px;
  color: #60a5fa;
}

/* Table Placeholder (Green) */
.table-placeholder {
  border: 2px solid #059669;
  border-radius: 8px;
  background: #ecfdf5;
  padding: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #059669;
  font-size: 16px;
  font-weight: 500;
  text-align: center;
}

.table-placeholder::before {
  content: 'ðŸ“‹ Table';
  font-size: 14px;
  color: #10b981;
}

/* Image Placeholder (Red) */
.image-placeholder,
.hero-image {
  border: 2px solid #dc2626;
  border-radius: 8px;
  background: #fef2f2;
  padding: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #dc2626;
  font-size: 16px;
  font-weight: 500;
  text-align: center;
}

.image-placeholder::before {
  content: 'ðŸ–¼ï¸ Image';
  font-size: 14px;
  color: #f87171;
}

/* KPI Placeholder (Purple) */
.kpi-placeholder,
.kpi-metric {
  border: 2px solid #7c3aed;
  border-radius: 8px;
  background: #faf5ff;
  padding: 8px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #7c3aed;
  font-size: 28px;
  font-weight: 700;
  line-height: 1.2;
  text-align: center;
}

.kpi-placeholder::before {
  content: 'ðŸ“Š KPI';
  font-size: 12px;
  font-weight: 400;
  color: #a78bfa;
}

/* ===== Special Elements ===== */

/* Quote Text */
.quote-text {
  border: 2px solid #6366f1;
  border-radius: 8px;
  background: #eef2ff;
  padding: 16px 24px;
  color: #1a1a1a;
  font-size: 24px;
  font-style: italic;
  font-family: Georgia, 'Times New Roman', serif;
  line-height: 1.4;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* Attribution */
.attribution,
.presenter-name,
.organization {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: #ffffff;
  padding: 8px 16px;
  color: #4a4a4a;
  font-size: 16px;
  font-weight: 500;
  line-height: 1.4;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* Summary/Insight Boxes (Green) */
.summary-box,
.key-insights,
.data-panel,
.annotations,
.data-callouts,
.totals-section,
.highlighted-cells,
.time-period,
.summary-verdict,
.connecting-annotations,
.insights {
  border: 1px solid #059669;
  border-radius: 6px;
  background: #f0fdf4;
  padding: 12px 16px;
  color: #1a1a1a;
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
}

/* Callout Boxes (Indigo) */
.callout-box,
.key-callout,
.overlay-text {
  border: 1px solid #6366f1;
  border-radius: 6px;
  background: #eef2ff;
  padding: 12px 16px;
  color: #1a1a1a;
  font-size: 16px;
  font-weight: 500;
  line-height: 1.4;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* Section Number */
.section-number {
  border: 2px solid #6366f1;
  border-radius: 8px;
  background: #eef2ff;
  padding: 12px 16px;
  color: #6366f1;
  font-size: 24px;
  font-weight: 700;
  line-height: 1.2;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* Progress Indicator */
.progress-indicator {
  border: 1px solid #6366f1;
  border-radius: 6px;
  background: #eef2ff;
  padding: 8px 16px;
  color: #1a1a1a;
  font-size: 14px;
  font-weight: 500;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* VS Indicator */
.vs-indicator {
  border: 2px solid #6366f1;
  border-radius: 8px;
  background: #eef2ff;
  padding: 8px 12px;
  color: #6366f1;
  font-size: 32px;
  font-weight: 700;
  line-height: 1.2;
  text-transform: uppercase;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* ===== Footer ===== */
.footer {
  border: 1px solid #9ca3af;
  border-radius: 6px;
  background: #f9fafb;
  padding: 6px 12px;
  color: #6b7280;
  font-size: 10px;
  line-height: 1.3;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.footer .slide-number {
  font-weight: 500;
}

.footer .layout-id {
  font-family: 'Consolas', 'Monaco', monospace;
  color: #9ca3af;
}

/* ===== Date & Logo (for title/closing slides) ===== */
.date {
  border: 1px solid #9ca3af;
  border-radius: 6px;
  background: #f9fafb;
  padding: 4px 8px;
  color: #6b7280;
  font-size: 14px;
  line-height: 1.3;
  text-align: right;
  justify-content: center;
  align-items: flex-end;
}

.logo {
  border: 1px solid #9ca3af;
  border-radius: 6px;
  background: #f9fafb;
  padding: 4px 8px;
  color: #6b7280;
  font-size: 14px;
  line-height: 1.3;
  text-align: left;
  justify-content: center;
  align-items: flex-start;
}

/* ===== Closing Message ===== */
.closing-message {
  border: 2px solid #d1d5db;
  border-radius: 8px;
  background: #ffffff;
  padding: 16px 24px;
  color: #1a1a1a;
  font-size: 48px;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* ===== Contact Info & Social ===== */
.contact-info,
.social-media,
.website {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: #ffffff;
  padding: 12px 20px;
  color: #1a1a1a;
  font-size: 16px;
  line-height: 1.4;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* ===== Caption & Labels ===== */
.caption,
.caption-text,
.image-label {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: #ffffff;
  padding: 8px 16px;
  color: #4a4a4a;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.4;
  text-align: center;
  justify-content: center;
  align-items: center;
}

/* ===== Legend ===== */
.legend {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: #ffffff;
  padding: 6px 16px;
  color: #4a4a4a;
  font-size: 14px;
  line-height: 1.4;
}

/* ===== Trend Indicators ===== */
.trend-indicators {
  border: 1px solid #059669;
  border-radius: 6px;
  background: #f0fdf4;
  padding: 8px 12px;
  color: #1a1a1a;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.4;
}

/* ===== Text Alignment Utilities ===== */
.text-left { text-align: left !important; justify-content: flex-start !important; align-items: flex-start !important; }
.text-center { text-align: center !important; justify-content: center !important; align-items: center !important; }
.text-right { text-align: right !important; justify-content: flex-end !important; align-items: flex-end !important; }

/* ===== Placeholder Label Styling ===== */
.placeholder-label {
  font-size: 14px;
  font-weight: 500;
  opacity: 0.7;
}

/* ===== Content Area Borders (visible when 'B' pressed) ===== */
/* Border toggle is activated via JavaScript adding 'show-borders' class to body */
/* Uniform gray solid borders - same color as edit mode for consistency */
/* Using outline instead of border to avoid content shifting */
body.show-borders .chart-container,
body.show-borders .diagram-container,
body.show-borders .image-container,
body.show-borders .body-primary,
body.show-borders .text-content,
body.show-borders .rich-content-area,
body.show-borders .hero-content-area {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Chart containers */
body.show-borders .chart-container {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Diagram containers */
body.show-borders .diagram-container {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Image containers */
body.show-borders .image-container {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Text/Body containers */
body.show-borders .body-primary,
body.show-borders .text-content {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Rich content areas (L25) */
body.show-borders .rich-content-area {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Hero content areas (L29) */
body.show-borders .hero-content-area {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* v7.5.8: REMOVED internal text borders - only show borders on CONTAINERS, not text inside
 * Previously lines 559-580 added borders to .slide-title, .subtitle, .body-text, etc.
 * User feedback: Internal text borders are unacceptable - containers only
 */

/* Footer elements show borders when 'B' is pressed */
body.show-borders .footer-presentation-name,
body.show-borders .footer-company-logo {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Inserted text boxes show borders when 'B' is pressed */
body.show-borders .inserted-textbox {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* v7.5.7: Textbox content and atomic chart containers show borders when 'B' is pressed */
/* This ensures charts inside textboxes (C1-text, I-series, etc.) get border highlighting */
body.show-borders .textbox-content,
body.show-borders .atomic-chart-container {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* v7.5.8: Chart elements fill containers, left-aligned with padding */
/* Ensures charts fit within their container borders and don't overflow */
.inserted-chart .element-content,
.atomic-chart-container {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  box-sizing: border-box;
}

.atomic-chart-container canvas {
  max-width: 100%;
  max-height: 100%;
}

/* v7.5.8: Visual padding for chart containers (~20% spacing) */
.inserted-chart,
.chart-container {
  padding: 20px;
  box-sizing: border-box;
}

/* v7.5.9: Hide internal chart title - slide template already has title slot */
/* Analytics Service generates chart-subtitle div inside chart HTML, but the */
/* slide template already provides a title slot, resulting in duplicate titles */
.atomic-chart-container .chart-subtitle,
.l02-chart-container > .chart-subtitle:first-child {
  display: none !important;
}

/* v7.5.9: Ensure edit button is visible and clickable */
/* The edit button has z-index: 100 inline but may be blocked by other elements */
.atomic-chart-container .chart-edit-btn,
.chart-edit-btn {
  z-index: 1000 !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  display: flex !important;
}

/* ===== FRONTEND TEMPLATE BORDERS (H1-H3, C1-C6, S1-S4, B1) ===== */
/* These classes are used by the new frontend template system */
/* Uniform gray solid borders - consistent with edit mode */

/* Hero template title/subtitle elements */
body.show-borders .title-hero,
body.show-borders .subtitle-hero {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Hero template footer/logo */
body.show-borders .footer-hero,
body.show-borders .logo-hero {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Hero template background */
body.show-borders .background-hero {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Hero template section number */
body.show-borders .section-number-hero {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Hero template contact info */
body.show-borders .contact-hero {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Content template content area */
body.show-borders .content-area {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Split template left/right content */
body.show-borders .content-left,
body.show-borders .content-right {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Split template image area */
body.show-borders .image-area {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Split template captions */
body.show-borders .caption-left,
body.show-borders .caption-right {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Comparison headers */
body.show-borders .header-left,
body.show-borders .header-right {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Blank canvas */
body.show-borders .canvas {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}

/* Generic footer and logo (used by content/split templates) */
body.show-borders .footer,
body.show-borders .logo {
  outline: 1px solid #9ca3af !important;
  outline-offset: -2px !important;
}
